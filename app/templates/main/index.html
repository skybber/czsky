{% import 'macros/dashboard_macros.html' as dash %}

{% extends 'layouts/base.html' %}

{% block content %}
    <div class="ui stackable centered grid container">
        <div class="twelve wide column">

            {% if news_list %}
            <div class="ui padded segment">
                <div class="ui stackable relaxed grid">
                    <h3 class="ui two wide column header">
                        <i class="rss icon"></i>
                        <div class="content">
                            {{ _('News') }}
                        </div>
                    </h3>
                    <div class="ui fourteen wide column">
                    <div class="ui items">
                        {% for news in news_list %}
                        <div class="item">
                            <div class="content">
                                <div class="ui header">{{ news.title }}</div>
                                <div class="description">
                                    <p class="markdown" style="clear:both;">
                                    {% filter extended_commonmark('M1') %}
{{ news.title_row  | safe }}
                                    {% endfilter %}
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    </div>
                </div>
            </div>
            {% endif %}

            <div class="ui two column stackable grid">
                {{ dash.dashboard_option(_('Constellations'), 'main_constellation.constellations',
                                    description=_('View constellations'), icon='lastfm icon') }}
                {{ dash.dashboard_option(_('Deepsky Objects'), 'main_deepskyobject.deepskyobjects',
                                    description=_('View deepsky objects'), icon='star icon') }}
                {{ dash.dashboard_option(_('Deepsky Lists'), 'main_dso_list.dso_lists_menu',
                                    description=_('View deepsky lists'), icon='star icon') }}
                {{ dash.dashboard_option(_('Solar System'), 'main_solarsystem.solarsystem_menu',
                                    description=_('View solar system'), icon='sun icon') }}
                {% if is_anonymous %}
                    {{ dash.dashboard_option(_('Session Plan'), 'main_planner.anonymous_planner_menu',
                                        description=_('Session plan'), icon='tasks icon') }}
                {% endif %}
                {% if not is_anonymous %}
                    {{ dash.dashboard_option(_('Observer'), 'main_observation.observation_menu',
                                        description=_('View observer menu'), icon='eye icon') }}
                    {{ dash.dashboard_option(_('Planner'), 'main_planner.planner_menu',
                                        description=_('View planner menu'), icon='tasks icon') }}
                {% endif %}
                {{ dash.dashboard_option(_('Chart'), 'main_chart.chart',
                                    description=_('View sky chart'), icon='map icon') }}
                {% if not is_anonymous %}
                    {{ dash.dashboard_option(_('Sky quality'), 'main_skyquality.skyquality',
                                        description=_('View skyquality section'), icon='tachometer icon') }}
                    {{ dash.dashboard_option(_('User Data'), 'main_userdata.userdata_menu',
                                        description=_('View user data'), icon='cogs icon') }}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
